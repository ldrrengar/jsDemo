<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数组方法map</title>
</head>

<body>
    <script>

        /**
         * map() 方法创建一个新数组，其结果是该数组中每个元素调用给定函数后的返回值
         * var new_array = arr.map(function callback(currentValue[, index[, array]]) {
         *  // Return element for new_array 
         * }[, thisArg])
         * currentValue: callback数组中正在处理的当前元素。 index：callback 数组中正在处理的当前元素的索引。 array: map 方法调用的数组。
         * thisArg: 执行 callback 函数时值被用作this。
         **/
        const array1 = [1, 4, 9, 16];

        // pass a function to map
        const map1 = array1.map(x => x * 2);

        console.log(map1);
        // expected output: Array [2, 8, 18, 32]
        var kvArray = [{ key: 1, value: 10 },
        { key: 2, value: 20 },
        { key: 3, value: 30 }];

        var reformattedArray = kvArray.map(function (obj) {
            var rObj = {};
            rObj[obj.key] = obj.value;
            return rObj;
        });

        // reformattedArray 数组为： [{1: 10}, {2: 20}, {3: 30}],

        // kvArray 数组未被修改:
        // [{key: 1, value: 10},
        //  {key: 2, value: 20},
        //  {key: 3, value: 30}]
    </script>
</body>

</html>